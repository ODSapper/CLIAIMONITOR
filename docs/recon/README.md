# Reconnaissance Intelligence

This directory contains findings from Snake Agent reconnaissance operations.

## Overview

The Snake Agent Force performs automated reconnaissance on codebases to identify:
- Security vulnerabilities
- Architecture issues
- Dependency problems
- Infrastructure concerns

Findings are organized by category and severity, with automatic tracking and resolution management.

## Files

- **[vulnerabilities.md](vulnerabilities.md)** - Security vulnerabilities and weaknesses
- **[architecture.md](architecture.md)** - Architecture and design issues
- **[dependencies.md](dependencies.md)** - Dependency health and version issues
- **[infrastructure.md](infrastructure.md)** - Infrastructure, process, and performance findings

## Severity Levels

- **Critical**: Immediate action required - poses severe risk
- **High**: Should be addressed soon - significant impact
- **Medium**: Should be scheduled for resolution - moderate impact
- **Low**: Nice to fix - minor impact
- **Info**: Informational only - no action required

## Status Tracking

Each finding has a status:
- **Open**: Requires attention
- **Resolved**: Fixed and verified
- **Ignored**: Acknowledged but won't fix (with rationale)
- **False Positive**: Not actually an issue

## How It Works

### Three-Layer Memory System

1. **Cold Layer (SQLite Database)**
   - Full historical data
   - Query-able for trends
   - Located at `data/memory.db`

2. **Warm Layer (Markdown Files)**
   - Human-readable detailed findings
   - Version-controlled
   - This directory (`docs/recon/`)

3. **Hot Layer (CLAUDE.md)**
   - Critical/high findings only
   - Auto-loaded every session
   - Limited to ~500 lines for performance

### Workflow

```
Snake Agent Scan
       ↓
Save to Database (cold layer)
       ↓
Sync to Markdown (warm layer)
       ↓
Update CLAUDE.md (hot layer)
```

## Viewing Findings

### Quick Summary
Check the main CLAUDE.md file which includes critical and high priority findings.

### Detailed Review
Review the individual markdown files in this directory for complete information including:
- Full descriptions
- Specific locations in code
- Detailed recommendations
- Resolution history

### Historical Analysis
Query the SQLite database directly for trends, statistics, and historical data.

## Managing Findings

Findings are managed through the recon memory system:

```go
// Mark a finding as resolved
db.UpdateFindingStatus(ctx, "VULN-001", "resolved", "agent-id", "Applied input sanitization")

// Record the change in history
db.RecordFindingChange(ctx, &FindingHistoryEntry{
    FindingID: "VULN-001",
    ChangedBy: "Snake001",
    ChangeType: "status_change",
    OldValue: "open",
    NewValue: "resolved",
    Notes: "Fixed in commit abc123",
})

// Sync changes to warm layer
layerManager.SyncToWarmLayer(ctx, envID)

// Update hot layer
layerManager.SyncToHotLayer(ctx, envID)
```

## Automation

The system automatically:
- Updates these files after each scan
- Syncs resolved findings
- Maintains history
- Updates CLAUDE.md with critical issues

## Manual Edits

While these files can be manually edited, changes may be overwritten on the next sync. To make persistent changes:

1. Update findings in the database
2. Run layer sync to regenerate markdown
3. Or mark findings as resolved/ignored through the API

## Integration

This recon intelligence integrates with:
- **Captain Agent**: Uses findings for decision-making
- **Worker Agents**: Receive specific findings to fix
- **Human Operators**: Review via markdown files
- **CI/CD**: Can gate deployments on critical findings

---

**Generated by**: Snake Agent Force Memory System
**Part of**: CLIAIMONITOR - The Magnolia Elite Agent Force
